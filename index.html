<!DOCTYPE html>
<html>
<head>
    <title>H·ªá Th·ªëng Tra C·ª©u Scam</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
    <style>
        body { font-family: 'Segoe UI', Tahoma, sans-serif; text-align: center; padding: 20px; background: #f0f2f5; }
        .box { background: white; padding: 25px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); display: inline-block; width: 95%; max-width: 600px; }
        h2 { color: #d93025; }
        input { padding: 15px; width: 85%; border: 2px solid #ddd; border-radius: 10px; font-size: 16px; margin-bottom: 10px; }
        button { padding: 15px; width: 90%; background: #1a73e8; color: white; border: none; border-radius: 10px; font-weight: bold; cursor: pointer; }
        #status { font-size: 12px; color: #888; margin: 10px 0; }
        .result-item { text-align: left; background: #fff; margin-top: 15px; padding: 15px; border-radius: 10px; border-left: 5px solid #d93025; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .row-data { word-break: break-all; white-space: pre-wrap; margin-bottom: 5px; }
        .highlight { background: yellow; font-weight: bold; }
    </style>
</head>
<body>

    <div class="box">
        <h2>üîç Tra C·ª©u Scammer</h2>
        <input type="text" id="userInput" placeholder="Nh·∫≠p t√™n, SƒêT, STK ho·∫∑c b·∫•t k·ª≥ t·ª´ kh√≥a n√†o...">
        <button onclick="checkInfo()">T√åM KI·∫æM NGAY</button>
        <div id="status">ƒêang t·∫£i d·ªØ li·ªáu...</div>
        <div id="result"></div>
    </div>

    <script>
        // THAY LINK CSV C·ª¶A B·∫†N V√ÄO ƒê√ÇY (ƒê·∫£m b·∫£o ƒëu√¥i l√† output=csv)
        const sheetUrl = "https://docs.google.com/spreadsheets/d/e/2PACX-1vSGyjVju8kRaAfKTo0lYPBh5frSvP46DIR9Hq3ekhvuqP1gfd_iODMlhYxTMbN-pjDOpjiSPEfcx8ft/pub?gid=0&single=true&output=csv";

        let fullData = [];

        function loadData() {
            Papa.parse(sheetUrl, {
                download: true,
                header: false, // ƒê·ªÉ false ƒë·ªÉ qu√©t ƒë∆∞·ª£c c·∫£ nh·ªØng h√†ng kh√¥ng c√≥ ti√™u ƒë·ªÅ
                complete: function(results) {
                    fullData = results.data;
                    document.getElementById("status").innerHTML = "‚úÖ D·ªØ li·ªáu ƒë√£ s·∫µn s√†ng (" + fullData.length + " h√†ng)";
                }
            });
        }

        function checkInfo() {
            const input = document.getElementById("userInput").value.trim().toLowerCase();
            const resultDiv = document.getElementById("result");
            resultDiv.innerHTML = "";

            if (!input) {
                alert("Vui l√≤ng nh·∫≠p t·ª´ kh√≥a!");
                return;
            }

            // L·ªçc d·ªØ li·ªáu: T√¨m trong t·∫•t c·∫£ c√°c c·ªôt c·ªßa m·ªói h√†ng
            const matches = fullData.filter(row => {
                return row.some(cell => String(cell).toLowerCase().includes(input));
            });

            if (matches.length > 0) {
                matches.forEach(row => {
                    let div = document.createElement("div");
                    div.className = "result-item";
                    // Hi·ªÉn th·ªã t·∫•t c·∫£ th√¥ng tin trong h√†ng ƒë√≥
                    let content = row.map(cell => cell ? `<div>${cell}</div>` : "").join("");
                    div.innerHTML = content;
                    resultDiv.appendChild(div);
                });
            } else {
                resultDiv.innerHTML = "<div style='margin-top:20px; color:red;'>‚ùå Kh√¥ng t√¨m th·∫•y k·∫øt qu·∫£ n√†o ch·ª©a t·ª´ kh√≥a n√†y!</div>";
            }
        }

        window.onload = loadData;
    </script>
</body>
</html>
