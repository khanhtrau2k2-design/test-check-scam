<!DOCTYPE html>
<html>
<head>
    <title>Check Th√¥ng Tin T·ª´ Google Sheets</title>
    <script src="https://docs.google.com/spreadsheets/d/e/2PACX-1vSGyjVju8kRaAfKTo0lYPBh5frSvP46DIR9Hq3ekhvuqP1gfd_iODMlhYxTMbN-pjDOpjiSPEfcx8ft/pub?gid=0&single=true&output=tsv"></script>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; text-align: center; padding: 50px; background: #eceff1; }
        .box { background: white; padding: 30px; border-radius: 15px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); display: inline-block; min-width: 350px; }
        h2 { color: #2c3e50; margin-bottom: 20px; }
        input { padding: 12px; width: 280px; border: 2px solid #dfe6e9; border-radius: 8px; margin-bottom: 15px; font-size: 16px; outline: none; transition: 0.3s; }
        input:focus { border-color: #3498db; }
        button { padding: 12px 30px; background: #3498db; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; font-size: 16px; }
        button:hover { background: #2980b9; }
        #status { font-size: 12px; color: #95a5a6; margin-top: 10px; }
        #result { margin-top: 25px; padding: 15px; border-radius: 8px; font-size: 18px; line-height: 1.6; min-height: 50px; }
    </style>
</head>
<body>

    <div class="box">
        <h2>üîç Ki·ªÉm Ch·ª©ng Th√¥ng Tin</h2>
        <input type="text" id="userInput" placeholder="Nh·∫≠p m√£ ho·∫∑c t√™n c·∫ßn t√¨m...">
        <br>
        <button onclick="checkInfo()">Ki·ªÉm tra ngay</button>
        <div id="status">ƒêang k·∫øt n·ªëi d·ªØ li·ªáu...</div>
        <div id="result"></div>
    </div>

    <script>
        // CH·ªñ QUAN TR·ªåNG: Thay link b·∫°n ƒë√£ copy ·ªü B∆∞·ªõc 1 v√†o gi·ªØa d·∫•u ngo·∫∑c k√©p d∆∞·ªõi ƒë√¢y
        const sheetUrl = "https://docs.google.com/spreadsheets/d/e/2PACX-1vSGyjVju8kRaAfKTo0lYPBh5frSvP46DIR9Hq3ekhvuqP1gfd_iODMlhYxTMbN-pjDOpjiSPEfcx8ft/pub?output=csv";

        let database = {};

        // H√†m t·ª± ƒë·ªông l·∫•y d·ªØ li·ªáu t·ª´ Google Sheets khi m·ªü web
        function loadData() {
            Papa.parse(sheetUrl, {
                download: true,
                header: true,
                complete: function(results) {
                    // X·ª≠ l√Ω d·ªØ li·ªáu: C·ªôt ƒë·∫ßu ti√™n l√†m 'Kh√≥a', to√†n b·ªô h√†ng l√†m 'Gi√° tr·ªã'
                    results.data.forEach(row => {
                        const keys = Object.keys(row);
                        if (keys.length > 0 && row[keys[0]]) {
                            let id = row[keys[0]].toString().trim().toUpperCase();
                            database[id] = row; 
                        }
                    });
                    document.getElementById("status").innerHTML = "‚úÖ D·ªØ li·ªáu ƒë√£ c·∫≠p nh·∫≠t m·ªõi nh·∫•t";
                },
                error: function() {
                    document.getElementById("status").innerHTML = "‚ùå L·ªói: Kh√¥ng th·ªÉ k·∫øt n·ªëi Google Sheets!";
                }
            });
        }

        function checkInfo() {
            const input = document.getElementById("userInput").value.trim().toUpperCase();
            const resultDiv = document.getElementById("result");
            
            if (!input) {
                resultDiv.innerHTML = "‚ö†Ô∏è Vui l√≤ng nh·∫≠p th√¥ng tin!";
                resultDiv.style.color = "#e67e22";
                return;
            }

            if (database[input]) {
                // L·∫•y t·∫•t c·∫£ th√¥ng tin trong h√†ng ƒë√≥ ƒë·ªÉ hi·ªÉn th·ªã
                let infoHtml = "<b>Th√¥ng tin t√¨m th·∫•y:</b><br>";
                for (let key in database[input]) {
                    infoHtml += `${key}: ${database[input][key]}<br>`;
                }
                resultDiv.innerHTML = "‚úÖ " + infoHtml;
                resultDiv.style.color = "#27ae60";
                resultDiv.style.background = "#f0fff4";
            } else {
                resultDiv.innerHTML = "‚ùå R·∫•t ti·∫øc! Kh√¥ng t√¨m th·∫•y d·ªØ li·ªáu n√†y.";
                resultDiv.style.color = "#c0392b";
                resultDiv.style.background = "#fff5f5";
            }
        }

        // G·ªçi h√†m n·∫°p d·ªØ li·ªáu ngay khi trang web t·∫£i xong
        window.onload = loadData;
    </script>
</body>
</html>
